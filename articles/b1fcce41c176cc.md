---
title: "【Laravel】フロントエンド資産の置き場所ガイド"
emoji: "🍳"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["frontend"]
published: false
---

## はじめに

Laravel Webアプリケーション開発を進めていて、CSSやJavaScriptといったフロントエンド資産の置き場所について迷ったことはありませんか？
特に、`public/`ディレクトリに置いてよいファイルや`resources/`ディレクトリに置くべきファイルなど、安全性や保守性の観点から正しい構成を知ることはとても大切です。この記事では、Laravelのフロントエンド資産の配置に関する方針を紹介します。

## 対象者

* チーム開発をしているエンジニア
* ViteやLaravel Mixのビルドに不安がある方
* CSSやJSを`public/`に直接置いてしまっている方

## Laravelのディレクトリ構成をおさらい

Laravelプロジェクトには以下のような役割があります：

| ディレクトリ       | 役割                                                                   |
| ------------ | -------------------------------------------------------------------- |
| `resources/` | 開発用の素材置き場。SCSSやJSの元データをここに置く（開発者のみが扱う場所）                             |
| `public/`    | コンパイル・バンドルされたCSSやJavaScript、HTMLテンプレートの出力先。Webサーバー経由で公開されるファイルを配置します |
| `storage/`   | 一時的なファイルやログなど                                                        |
| `vendor/`    | Composerパッケージ類                                                       |

## `public/`に様々なファイルを置いていませんか？

* ソースが外部から見える：SCSSやモジュールバンドル（※複数のJSファイルや依存ライブラリを1つにまとめる処理）前のJSなど、本来見せるべきでない中間ファイルが公開されてしまう可能性があります
* セキュリティ上のリスク：環境によっては`public/`配下に置いたファイルが意図せずアクセス可能になる場合があります
* メンテナンス困難：構成が分かりづらくなり、チーム開発時に混乱を招きます

例えば、OWASPが指摘する「不適切なリソース管理（Insecure Resource Management）」に該当するケースもあり、SCSSやモジュールバンドル前のJSファイルが外部からアクセス可能になると、ソースコードの構造や使用ライブラリが漏れるリスクがあります。

## Viteを使った正しい資産管理の流れ

では、安全かつ効率的にフロントエンド資産を管理する方法として、現在のLaravelで標準となっているViteを使った構成を見ていきましょう。

Laravel 9以降ではViteがデフォルトビルドツールになりました。以下の手順が推奨されます：

1. `resources/scss/`, `resources/js/`に素材を配置（例えば、CSSとJavaScriptの役割を明確に分けることで、保守性やチーム開発での可読性が向上します）
2. `vite.config.js`でビルド対象と出力先を指定（通常は`public/build/`）
3. `npm run dev`または`npm run build`でビルド
4. Bladeテンプレートで`@vite(['resources/js/app.js', 'resources/scss/app.scss'])`を使用

### ディレクトリ構成例

```
resources/
├── js/
│   └── app.js
└── scss/
    └── app.scss

public/
└── build/
    ├── assets/
    └── manifest.json
```

## Mixを使っている場合は？（旧構成）

Laravel 8以前や既存プロジェクトではLaravel Mixが使用されています。基本方針はViteと同じです：

* `resources/`に元データを置く
* `webpack.mix.js`でビルド対象を指定
* `npm run dev/build`で`public/`に出力

## チーム開発での注意点

* `.gitignore`で`public/build/`や`node_modules/`は共有しない
* `resources/`と`vite.config.js`はチーム内で共通管理する
* 開発メンバーにViteの使い方を共有し、手動で`public/`に置く文化をなくす

## よくある誤解

* **Q：画像やフォントはどこに置く？**
  → `resources/assets/` に置いてVite経由でビルドするか、`public/assets/`に直接配置します（公開前提の場合）

* **Q：jQueryやFont Awesomeなど、これまでCDNで読み込んでいたライブラリはどう扱うべき？**
  → npm（Node.jsのパッケージマネージャ）を使って、jQueryやFont Awesomeなどのライブラリをプロジェクトに追加し、Viteでバンドル管理することで依存関係の明示性とパフォーマンスが向上します

## おわりに

Laravelでフロントエンド資産を管理する際、「resourcesは台所、publicはお皿に盛り付けた料理」と覚えておくと整理しやすくなります。

resources（台所）ではSCSSやJSを丁寧に調理し、ViteやMixという手段でビルドという加熱調理を行います。そしてpublic（テーブル）には、食べられる状態＝ユーザーに届けるファイルだけを並べる。この手順を守ることで、プロジェクトは衛生的で、安全で、誰が見ても美しい構成になります。

私自身、Laravelに慣れない頃は、publicに直接CSSを置いて動かない、謎のJSエラーが出る…そんな経験に悩まされました。しかし、ある時から「裏方と表舞台をきちんと分ける」意識を持つことで、環境構築やチーム開発が一気に楽になったのです。

この記事では、Laravelのフロントエンド資産、Viteのビルド手順、Laravel Mixとの違い、resourcesディレクトリとpublicディレクトリの使い分けについても整理してきました。誤解されがちな配置ルールを見直し、安全で効率的な構成を意識してみてください。

Laravelの成長とともに、あなた自身の開発力も確実にステップアップしていきます。焦らず、迷ったら構成を見直す。この小さな習慣が、将来の大きな安心につながります。

あなたのLaravel生活がより快適で、心地よいものになりますように。
